---
import { scenes } from "./SmartMatchData.ts";
---

<section class="py-16 px-6 bg-slate-50">
  <div class="max-w-3xl mx-auto text-center mb-12">
    <h2 class="text-3xl font-semibold text-slate-900">
      Smarter Choices. Less Confusion.
    </h2>
    <p class="text-lg text-slate-600 mt-4">
      Our proprietary SmartMatch<sup>â„¢</sup> system ensures that patients are directed
      to the most cost-effective, high-quality imaging centers available. Avoid overpaying
      or ending up at a facility that doesn't fit your needs.
    </p>
  </div>

  <div class="grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
    {
      scenes.map((scene, index) => (
        <div
          class="opacity-0 translate-y-8 transition-all duration-700 ease-out rounded-xl bg-white p-6 border-2 border-[#e6c378] shadow hover:scale-[1.03] hover:shadow-md"
          style={`animation-delay: ${index * 0.1}s`}
          data-index={index}
        >
          <h3 class="text-lg font-semibold text-slate-800 mb-2">
            {scene.title}
          </h3>
          <p class="text-slate-600 text-sm">{scene.description}</p>
        </div>
      ))
    }
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const delay = entry.target.dataset.index * 100;
            setTimeout(() => {
              entry.target.classList.add("opacity-100", "translate-y-0");
              entry.target.classList.remove("opacity-0", "translate-y-8");
            }, delay);
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.2 }
    );

    document.querySelectorAll(".translate-y-8").forEach((el, i) => {
      el.dataset.index = i;
      observer.observe(el);
    });
  });
</script>
