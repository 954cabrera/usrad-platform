---
import MainLayout from "../layouts/MainLayout.astro";
import AOSInit from "../components/AOSInit.astro";
import HeroSmartSplit from "../components/partner/HeroSmartSplit.astro";
import HowItWorksTimeLine from "../components/partner/HowItWorksTimeLine.astro";
import MarketOpportunity from "../components/partner/MarketOpportunity.astro";
import IndependentInvitation from "../components/partner/IndependentInvitation.astro";
import PartnerMfgGrid from "../components/partner/PartnerMfgGrid.astro";
import HealthcareCoverageCrisisGraph from "../components/HealthcareCoverageCrisisGraph";
---

<style>
  /* Style moved to global.css for better reuse */

  .abstract-medical-accent {
    position: absolute;
    width: 300px;
    height: 300px;
    background-image: url("/images/abstract-medical-visual.svg");
    background-size: contain;
    background-repeat: no-repeat;
    opacity: 0.08;
    z-index: 0;
  }

  .relative-z-1 {
    position: relative;
    z-index: 1;
  }
</style>

<MainLayout>
  <AOSInit />
  <HeroSmartSplit />

  <!-- Founder Message Section -->
  <section
    class="py-24 bg-[#fcf9f0] text-gray-800 relative overflow-hidden"
    data-aos="fade-up"
    data-aos-delay="100"
  >
    <!-- Subtle pattern overlay -->
    <div
      class="absolute inset-0 bg-repeat opacity-[0.03]"
      style="background-image: url('/images/subtle-pattern.svg');"
    >
    </div>

    <!-- Decorative elements -->
    <div
      class="absolute top-20 right-20 w-64 h-64 rounded-full bg-[#e6c378] opacity-[0.03] blur-3xl"
    >
    </div>
    <div
      class="absolute bottom-20 left-20 w-72 h-72 rounded-full bg-[#003087] opacity-[0.03] blur-3xl"
    >
    </div>

    <!-- Content with z-index to keep it above backgrounds -->
    <div class="px-6 sm:px-8 lg:px-12">
      <div class="relative z-10 max-w-7xl mx-auto">
        <div class="grid md:grid-cols-2 gap-16 items-center">
          <div
            class="relative flex justify-center items-center"
            data-aos="fade-right"
            data-aos-delay="200"
          >
            <img
              src="/images/michael.jpg"
              alt="Michael Cabrera"
              class="w-[85%] h-auto rounded-xl shadow-lg relative z-10"
            />
            <div
              class="absolute -bottom-4 -left-4 w-24 h-24 rounded-full bg-[#e6c378] opacity-20"
            >
            </div>
          </div>

          <div class="space-y-6" data-aos="fade-left" data-aos-delay="300">
            <h2 class="text-3xl font-semibold text-[#003087] flex items-center">
              <span class="w-2 h-10 bg-[#e6c378] rounded-full mr-3"></span>
              From the Founder
            </h2>
            <p class="text-xl text-gray-700 leading-relaxed">
              "We've been here before. When we built our previous network that
              grew to over 1,200 imaging centers nationwide, we saw firsthand
              how this approach created win-win partnerships that lasted over a
              decade."
            </p>
            <p class="text-xl text-gray-700 leading-relaxed">
              "Today, we're bringing that same expertise to a market that needs
              it more than ever—helping centers like yours serve the 100+
              million Americans who are uninsured or underinsured, while
              simultaneously strengthening your business."
            </p>
            <p class="text-lg text-gray-700 leading-relaxed italic mt-4">
              — Michael Cabrera, Founder & CEO
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Visual element for continuity with next section -->
    <div class="absolute -bottom-8 left-1/4 right-1/4 h-16 overflow-hidden">
      <div
        class="w-full h-full bg-[#fcf9f0] rounded-b-full shadow-sm opacity-30"
      >
      </div>
    </div>
  </section>

  <div class="relative py-8 overflow-hidden">
    <div class="px-6 sm:px-8 lg:px-12">
      <div class="relative">
        <div
          class="h-px w-full bg-gradient-to-r from-transparent via-[#e6c378] to-transparent opacity-50"
        >
        </div>
      </div>
      <div
        class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white flex items-center justify-center border border-[#e6c378] border-opacity-30"
      >
        <div class="w-6 h-6 rounded-full bg-[#e6c378] opacity-50"></div>
      </div>
    </div>
  </div>

  <div class="mt-16">
    <HowItWorksTimeLine />
  </div>

  <!-- Historical Success Section -->
  <section
    class="py-24 bg-[#f0f4f9] text-gray-800 relative overflow-hidden"
    data-aos="fade-up"
    data-aos-delay="100"
  >
    <!-- Subtle pattern overlay -->
    <div
      class="absolute inset-0 bg-repeat opacity-[0.03]"
      style="background-image: url('/images/subtle-pattern.svg');"
    >
    </div>

    <!-- Decorative elements -->
    <div
      class="absolute top-20 right-20 w-64 h-64 rounded-full bg-[#003087] opacity-[0.03] blur-3xl"
    >
    </div>
    <div
      class="absolute bottom-20 left-20 w-72 h-72 rounded-full bg-[#e6c378] opacity-[0.03] blur-3xl"
    >
    </div>

    <div class="px-6 sm:px-8 lg:px-12">
      <div class="max-w-7xl mx-auto relative z-10">
        <div class="text-center mb-16" data-aos="fade-up" data-aos-delay="200">
          <h2
            class="text-4xl font-semibold text-[#003087] inline-flex items-center justify-center"
          >
            <span class="w-2 h-10 bg-[#e6c378] rounded-full mr-3"></span>
            Proven Track Record
          </h2>
          <p class="text-xl text-gray-700 mt-6 max-w-3xl mx-auto">
            Our team has decades of successful experience building and operating
            a nationwide imaging network.
          </p>
        </div>

        <div class="grid md:grid-cols-3 gap-8 mb-12">
          <div
            class="bg-white p-8 rounded-xl shadow-md text-center transform hover:scale-105 transition-transform duration-300 hover-card"
            data-aos="fade-up"
            data-aos-delay="300"
          >
            <div
              class="card-icon text-[#003087] text-5xl font-bold mb-4 stat-number"
            >
              1,200+
            </div>
            <p class="text-lg">Imaging centers in our previous network</p>
          </div>

          <div
            class="bg-white p-8 rounded-xl shadow-md text-center transform hover:scale-105 transition-transform duration-300 hover-card"
            data-aos="fade-up"
            data-aos-delay="400"
          >
            <div
              class="card-icon text-[#003087] text-5xl font-bold mb-4 stat-number"
            >
              10+
            </div>
            <p class="text-lg">Years of successful partnership building</p>
          </div>

          <div
            class="bg-white p-8 rounded-xl shadow-md text-center transform hover:scale-105 transition-transform duration-300 hover-card"
            data-aos="fade-up"
            data-aos-delay="500"
          >
            <div
              class="card-icon text-[#003087] text-5xl font-bold mb-4 stat-number"
            >
              5-15%
            </div>
            <p class="text-lg">
              Typical business volume increase for most partner centers
            </p>
          </div>
        </div>

        <div class="text-center" data-aos="fade-up" data-aos-delay="600">
          <p class="text-xl text-gray-700 italic">
            "We're bringing that same expertise and commitment to USRad."
          </p>
        </div>
      </div>

      <!-- Visual element for continuity with next section -->
      <div
        class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-b from-transparent to-[#fcf9f0] opacity-30"
      >
      </div>
    </div>

    <div class="mt-16">
      <MarketOpportunity />
    </div>

    <div class="mt-16">
      <IndependentInvitation />
    </div>

    <div class="mt-16">
      <PartnerMfgGrid />
    </div>

    <!-- Decorative Divider -->
    <div class="relative py-16 overflow-hidden">
      <div class="px-6 relative">
        <div
          class="h-px w-full bg-gradient-to-r from-transparent via-[#e6c378] to-transparent opacity-50"
        >
        </div>
      </div>
      <div
        class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white flex items-center justify-center border border-[#e6c378] border-opacity-30"
      >
        <div class="w-6 h-6 rounded-full bg-[#e6c378] opacity-50"></div>
      </div>
    </div>

    <!-- FAQ Section -->
    <section
      class="bg-white py-24 px-6 text-gray-800 relative overflow-hidden"
      data-aos="fade-up"
      data-aos-delay="300"
    >
      <!-- Subtle pattern overlay -->
      <div
        class="absolute inset-0 bg-repeat opacity-[0.03]"
        style="background-image: url('/images/subtle-pattern.svg');"
      >
      </div>

      <!-- Decorative elements -->
      <div
        class="absolute top-20 left-20 w-64 h-64 rounded-full bg-[#e6c378] opacity-[0.03] blur-3xl"
      >
      </div>
      <div
        class="absolute bottom-20 right-20 w-72 h-72 rounded-full bg-[#003087] opacity-[0.03] blur-3xl"
      >
      </div>

      <div class="px-6 sm:px-8 lg:px-12">
        <div class="max-w-7xl mx-auto relative z-10">
          <div class="text-center mb-16">
            <h2
              class="text-4xl font-semibold text-[#003087] inline-flex items-center justify-center"
            >
              <span class="w-2 h-10 bg-[#e6c378] rounded-full mr-3"></span>
              Frequently Asked Questions
            </h2>
          </div>

          <div class="max-w-4xl mx-auto">
            <div class="space-y-6">
              <!-- FAQ 1 -->
              <div
                class="bg-gray-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow"
              >
                <h3
                  class="text-xl font-semibold text-[#003087] flex items-center"
                >
                  <span class="w-1.5 h-6 bg-[#e6c378] rounded-full mr-3"></span>
                  What is the process to join USRad?
                </h3>
                <p class="text-lg text-gray-700 mt-4 pl-4">
                  You can start by filling out the application form. After
                  submitting your details, we'll reach out with next steps to
                  onboard your center.
                </p>
              </div>
              <!-- FAQ 2 -->
              <div
                class="bg-gray-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow"
              >
                <h3
                  class="text-xl font-semibold text-[#003087] flex items-center"
                >
                  <span class="w-1.5 h-6 bg-[#e6c378] rounded-full mr-3"></span>
                  Are there any costs involved in joining USRad?
                </h3>
                <p class="text-lg text-gray-700 mt-4 pl-4">
                  Joining USRad is free for eligible centers. We offer a
                  transparent, simple partnership model with no hidden fees.
                </p>
              </div>
              <!-- FAQ 3 -->
              <div
                class="bg-gray-100 p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow"
              >
                <h3
                  class="text-xl font-semibold text-[#003087] flex items-center"
                >
                  <span class="w-1.5 h-6 bg-[#e6c378] rounded-full mr-3"></span>
                  What are the benefits of joining USRad?
                </h3>
                <p class="text-lg text-gray-700 mt-4 pl-4">
                  You gain access to a nationwide network of self-pay patients,
                  streamlined scheduling, faster reimbursements, and increased
                  volume—all while maintaining high-quality care.
                </p>
              </div>
            </div>
          </div>

          <!-- Apply CTA -->
          <div class="text-center mt-16" id="apply">
            <a
              href="/partner/apply"
              class="inline-block bg-[#003087] text-white px-10 py-4 rounded-full hover:bg-[#002266] transition-all hover:shadow-lg border-l-4 border-[#e6c378]"
            >
              Apply Now to Join the Network
            </a>
          </div>
        </div>
      </div>

      <script>
        document.addEventListener("DOMContentLoaded", function () {
          // Subtle hover effects on cards
          document.querySelectorAll(".hover-card").forEach((card) => {
            card.addEventListener("mouseenter", function () {
              const icon = this.querySelector(".card-icon");
              if (icon) {
                icon.classList.add("animate-pulse");
              }
            });

            card.addEventListener("mouseleave", function () {
              const icon = this.querySelector(".card-icon");
              if (icon) {
                icon.classList.remove("animate-pulse");
              }
            });
          });

          // Animate stat numbers on scroll
          const observerOptions = {
            threshold: 0.5,
          };

          const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                if (!entry.target.dataset.animated) {
                  entry.target.dataset.animated = true;

                  const finalValue = entry.target.textContent;
                  const valueWithoutPlus = parseInt(
                    finalValue.replace(/\D/g, "")
                  );

                  let currentValue = 0;
                  const increment = Math.ceil(valueWithoutPlus / 50);
                  const duration = 1500; // ms
                  const interval = Math.floor(
                    duration / (valueWithoutPlus / increment)
                  );

                  const counter = setInterval(() => {
                    currentValue += increment;
                    if (currentValue >= valueWithoutPlus) {
                      clearInterval(counter);
                      currentValue = valueWithoutPlus;
                      entry.target.textContent = finalValue;
                    } else {
                      entry.target.textContent = currentValue + "+";
                    }
                  }, interval);
                }
                observer.unobserve(entry.target);
              }
            });
          }, observerOptions);

          document.querySelectorAll(".stat-number").forEach((stat) => {
            observer.observe(stat);
          });
        });
      </script>
    </section>
  </section>
</MainLayout>
