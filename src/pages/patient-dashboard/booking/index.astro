---
// src/pages/patient-dashboard/booking/index.astro
import PatientDashboardLayout from "../../../components/patient-dashboard/PatientDashboardLayout.astro";
import SkeletonBookingSystem from "../../../components/patient-dashboard/SkeletonBookingSystem";
import { validateAuthSession } from "../../../lib/auth";

// Validate authentication
const { session, user } = await validateAuthSession(Astro.request);

if (!session || !user) {
  return Astro.redirect("/login/patientlogin");
}
---

<PatientDashboardLayout title="Book Imaging" user={user}>
  <SkeletonBookingSystem client:load />
</PatientDashboardLayout>
